<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="crm_lead_view_form_customize" model="ir.ui.view">
        <field name="name">crm.lead.form.customize</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <!--<field name="city" position="attributes">-->
            <!--    <attribute name="placeholder">District</attribute>-->
            <!--</field>-->
            <!--<xpath expr="//page[@name='lead']/group/group/div[hasclass('o_address_format')]/field[@name='city']" position="attributes">-->
            <!--    <attribute name="placeholder">District</attribute>-->
            <!--</xpath>-->
            <!--<xpath expr="//group[@name='lead_partner']/div[hasclass('o_address_format')]" position="replace">-->
                <!--<div class="o_address_format">-->
                <!--        <field name="street" class="o_address_street" placeholder="Street..."/>-->
                <!--        <field name="street2" placeholder="Street 2... Ward... Distric... City..."/>-->
                <!--        <field name="ward_id" class="o_address_city" attrs="{'invisible': [('district_id', '=', False)]}" domain="[('district_id', '=', district_id)]" placeholder="Ward" options="{'no_create': True, 'no_open': True}"/>-->
                <!--        <field name="district_id" class="o_address_state" attrs="{'invisible': [('city_id', '=', False)]}" domain="[('city_id', '=', city_id)]" placeholder="District" options="{'no_create': True, 'no_open': True}"/>-->
                <!--        <field name="city_id" class="o_address_zip" domain="[('country_id', '=', country_id)]" placeholder="City" options="{'no_create': True, 'no_open': True}"/>-->
                <!--        <field name="country_id" class="o_address_country" domain="[('id', '=', %(base.vn)d)]" placeholder="Country" options="{'no_create': True, 'no_open': True}"/>-->
                <!--        <field name="city" invisible="1"/>-->
                <!--        <field name="state_id" invisible="1"/>-->
                <!--        <field name="zip" invisible="1"/>-->
                <!--</div>-->
            <xpath expr="/form/sheet" position="inside">
                    <field name="country_code" invisible="1"/>
                </xpath>
                <xpath expr="//group[@name='lead_partner']/div[hasclass('o_address_format')]/field[@name='zip']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
                <xpath expr="//group[@name='lead_partner']/div[hasclass('o_address_format')]/field[@name='city']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
                <xpath expr="//group[@name='lead_partner']/div[hasclass('o_address_format')]/field[@name='state_id']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
                <xpath expr="//group[@name='lead_partner']/div[hasclass('o_address_format')]/field[@name='state_id']" position="after">
                    <field name="city_id" class="o_address_state" placeholder="City" options="{'no_open': True, 'no_quick_create': True}" context="{'country_id': country_id, 'default_country_id': country_id}" invisible="country_code != 'VN' or not country_id"/>
                    <field name="district_id" class="o_address_state" placeholder="District" options="{'no_open': True, 'no_quick_create': True}" context="{'city_id': city_id, 'default_city_id': city_id}" invisible="country_code != 'VN' or not city_id"/>
                    <field name="ward_id" class="o_address_zip" placeholder="Ward" options="{'no_open': True, 'no_quick_create': True}" context="{'district_id': district_id, 'default_district_id': district_id}" invisible="country_code != 'VN' or not district_id"/>
                </xpath>
            <!--</xpath>-->
            <xpath expr="//group[@name='lead_partner']/field[@name='partner_id']" position="attributes">
                <attribute name="context">
{
                                        'default_name': contact_name,
                                        'default_title': title,
                                        'default_street': street,
                                        'default_street2': street2,
                                        'default_city': city,
                                        'default_state_id': state_id,
                                        'default_zip': zip,
                                        'default_country_id': country_id,
                                        'default_function': function,
                                        'default_phone': phone,
                                        'default_mobile': mobile,
                                        'default_email': email_from,
                                        'default_user_id': user_id,
                                        'default_team_id': team_id,
                                        'default_website': website,
                                        'default_lang': lang_code,
                                        'show_vat': True,
                        'default_ward_id': ward_id,
                        'default_district_id': district_id,
                        'default_city_id': city_id,
                                    }

                </attribute>
            </xpath>
            <!--<xpath expr="//page[@name='lead']/group/group/div[hasclass('o_address_format')]" position="replace">-->
            <!--    <div class="o_address_format">-->
            <!--            <field name="street" id="street_page_lead" class="o_address_street" placeholder="Street..."/>-->
            <!--            <field name="street2" placeholder="Street 2... Ward... Distric... City..."/>-->
            <!--            <field name="ward_id" class="o_address_city" attrs="{'invisible': [('district_id', '=', False)]}" domain="[('district_id', '=', district_id)]" placeholder="Ward" options="{'no_create': True, 'no_open': True}"/>-->
            <!--            <field name="district_id" class="o_address_state" attrs="{'invisible': [('city_id', '=', False)]}" domain="[('city_id', '=', city_id)]" placeholder="District" options="{'no_create': True, 'no_open': True}"/>-->
            <!--            <field name="city_id" class="o_address_zip" domain="[('country_id', '=', country_id)]" placeholder="City" options="{'no_create': True, 'no_open': True}"/>-->
            <!--            <field name="country_id" class="o_address_country" domain="[('id', '=', %(base.vn)d)]" placeholder="Country" options="{'no_create': True, 'no_open': True}"/>-->
            <!--            <field name="city" invisible="1"/>-->
            <!--            <field name="state_id" invisible="1"/>-->
            <!--            <field name="zip" invisible="1"/>-->
            <!--    </div>-->
            <!--</xpath>-->
            <xpath expr="//page[@name='lead']//div[hasclass('o_address_format')]/field[@name='zip']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
            <xpath expr="//page[@name='lead']//div[hasclass('o_address_format')]/field[@name='city']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
            <xpath expr="//page[@name='lead']//div[hasclass('o_address_format')]/field[@name='state_id']" position="attributes">
                    <attribute name="invisible" add="country_code == 'VN'" separator=" or "/>
                </xpath>
            <xpath expr="//page[@name='lead']//div[hasclass('o_address_format')]/field[@name='state_id']" position="after">
                    <field name="city_id" class="o_address_state" placeholder="City" options="{'no_open': True, 'no_quick_create': True}" context="{'country_id': country_id, 'default_country_id': country_id}" invisible="country_code != 'VN' or not country_id"/>
                    <field name="district_id" class="o_address_state" placeholder="District" options="{'no_open': True, 'no_quick_create': True}" context="{'city_id': city_id, 'default_city_id': city_id}" invisible="country_code != 'VN' or not city_id"/>
                    <field name="ward_id" class="o_address_zip" placeholder="Ward" options="{'no_open': True, 'no_quick_create': True}" context="{'district_id': district_id, 'default_district_id': district_id}" invisible="country_code != 'VN' or not district_id"/>
                </xpath>
            <xpath expr="//group[@name='opportunity_partner']/field[@name='partner_id']" position="attributes">
                <attribute name="context">
                    {'res_partner_search_mode': type == 'opportunity' and 'customer' or False,
                                        'default_name': contact_name or partner_name,
                                        'default_street': street,
                                        'default_is_company': type == 'opportunity' and contact_name == False,
                                        'default_company_name': type == 'opportunity' and partner_name,
                                        'default_street2': street2,
                                        'default_city': city,
                                        'default_title': title,
                                        'default_state_id': state_id,
                                        'default_zip': zip,
                                        'default_country_id': country_id,
                                        'default_function': function,
                                        'default_phone': phone,
                                        'default_mobile': mobile,
                                        'default_email': email_from,
                                        'default_user_id': user_id,
                                        'default_team_id': team_id,
                                        'default_website': website,
                                        'default_lang': lang_code,
                                        'show_vat': True,
                        'default_ward_id': ward_id,
                        'default_district_id': district_id,
                        'default_city_id': city_id,
                                    }
                </attribute>
            </xpath>
        </field>
    </record>
</odoo>
