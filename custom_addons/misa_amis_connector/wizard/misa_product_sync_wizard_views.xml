<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Wizard Views -->
    <record id="view_misa_product_sync_wizard" model="ir.ui.view">
        <field name="name">misa.product.sync.wizard.form</field>
        <field name="model">misa.product.sync.wizard</field>
        <field name="arch" type="xml">
            <form string="Sync Products from MISA">
                <sheet>
                    <group>
                        <group string="Configuration">
                            <field name="misa_app_id" options="{'no_create': True}"/>
                            <field name="branch_id" options="{'no_create': True}"/>
                        </group>
                    </group>
                    
                    <group string="Incremental Sync">
                        <field name="use_last_sync_time"/>
                        <field name="last_sync_time" readonly="not use_last_sync_time"/>
                    </group>
                    
                    <div class="alert alert-info" role="alert">
                        <h4>Sync Process:</h4>
                        <p>Import MISA products and automatically map with existing Odoo products using barcode/internal reference matching.</p>
                    </div>
                </sheet>
                <footer>
                    <button string="Start Sync" name="action_sync_products" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="view_misa_product_sync_result" model="ir.ui.view">
        <field name="name">misa.product.sync.result.form</field>
        <field name="model">misa.product.sync.result</field>
        <field name="arch" type="xml">
            <form string="Sync Results">
                <sheet>
                    <div class="alert alert-success" role="alert">
                        <h3>Sync Completed Successfully!</h3>
                    </div>
                    
                    <group>
                        <group string="Configuration">
                            <field name="misa_app_id" readonly="1"/>
                            <field name="branch_id" readonly="1"/>
                        </group>
                        <group string="Statistics">
                            <field name="total_products" readonly="1"/>
                            <field name="mapped_products" readonly="1"/>
                            <field name="unmapped_products" readonly="1"/>
                            <field name="mapping_percentage" readonly="1"/>
                        </group>
                    </group>
                    
                    <field name="summary" widget="text" readonly="1" nolabel="1"/>
                </sheet>
                <footer>
                    <button string="View MISA Products" name="action_view_misa_products" type="object" class="btn-primary"/>
                    <button string="View Unmapped Products" name="action_view_unmapped_products" type="object" 
                            class="btn-warning" invisible="unmapped_products == 0"/>
                    <button string="Close" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

</odoo>