<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="report_payslipdetails" inherit_id="hr_payroll_community.report_payslipdetails">
        <xpath expr="//tr[@t-foreach='get_details_by_rule_category.get(o.id, [])']" position="replace">
            <tr t-foreach="get_details_by_rule_category.get(o.id, [])" t-as="h">
                <t t-if="h['level'] > 0">
                    <td>
                        <span t-esc="h['code']"/>
                    </td>
                    <td>
                        <span t-esc="h['rule_category']"/>
                    </td>
                    <td class="text-right">
                        <span t-esc="h['total']"
                            t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                    </td>
                </t>
            </tr>

        </xpath>
    </template>

</odoo>
