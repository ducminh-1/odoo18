<?xml version='1.0' encoding='UTF-8' ?>
<odoo>
    <record id="metatech_inherit_view_employee_tree" model="ir.ui.view">
        <field name="name">metatech.inherit.view.employee.tree</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_tree" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="before">
                <field name="show_hr_icon_display" column_invisible="True" />
                <field
                    name="hr_icon_display"
                    class="d-flex align-items-end fs-6 o_employee_availability"
                    invisible="not show_hr_icon_display or not id"
                    widget="hr_presence_status"
                    string="Status"
                />
            </xpath>
        </field>
    </record>

    <record id="metatech_inherit_view_employee_form" model="ir.ui.view">
        <field name="name">metatech.inherit.view.employee.form</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form" />
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <field name="coach_id" position="after">
                <field name="start_work_date" />
                <field name="seniority_type" widget="radio" />
                <field name="additional_seniority" />
                <label
                    string="Old Seniority"
                    for="additional_seniority_in_years"
                    class="col-form-label"
                    invisible="not additional_seniority"
                />
                <div class="o_row" invisible="not additional_seniority">
					<field name="additional_seniority_in_years" class="oe_inline" style="width: 5%;" />
					Year(s)
					<field name="additional_seniority_in_months" class="oe_inline" />
					Month(s)
				</div>
                <label
                    for="seniority_in_years"
                    class="col-form-label"
                    string="Seniority"
                />
                <div class="o_row">
                    <span>
                        <field
                        name="seniority_in_years"
                        readonly="1"
                        class="oe_inline"
                    />
                        Year(s)
                    </span>
                    <span>
                        <field
                        name="seniority_in_months"
                        readonly="1"
                        class="oe_inline"
                    />
                        Month(s)
                    </span>
                </div>
            </field>
            <xpath expr="//field[@name='identification_id']" position="after">
                <field name="id_card_issue_date" />
                <field name="place_of_issue_id_card" />
                <field name="sinid" />
            </xpath>
            <xpath expr="//field[@name='country_id']" position="after">
                <field
                    name="ethnicity_id"
                    options="{'no_edit': True, 'no_create': True}"
                    domain="[('country_id.id', '=', country_id)]"
                />
            </xpath>
            <xpath expr="//field[@name='ssnid']" position="after">
                <field name="tax_code" />
            </xpath>
            <xpath expr="//field[@name='ssnid']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='hr_settings']" position="after">
                <page name="hr_dependent" string="Dependents" groups="hr.group_hr_user">
                    <field name="dependent_ids">
                        <list editable="bottom" limit="200">
                            <field name="name" required="1" />
                            <field name="birthday" required="1" />
                            <field name="identification_id" required="1" />
                            <field name="relationship" required="1" />
                            <field name="address" />
                            <field name="ssnid" />
                            <field name="tax_code" />
                        </list>
                    </field>
                </page>
            </xpath>
            <xpath expr="//field[@name='pin']" position="after">
                <field name="clothing_code_id" />
            </xpath>
            <xpath expr="//field[@name='barcode']" position="attributes">
                <attribute name="readonly">1</attribute>
            </xpath>
            <xpath expr="//page[@name='skills_resume']" position="after">
                <page name="skills" string="Skills">
                    <div
                        class="o_hr_skills_editable o_hr_skills_group o_group_skills d-flex flex-column"
                    >
                        <field
                            mode="list"
                            nolabel="1"
                            name="employee_skill_ids"
                            widget="skills_one2many"
                            class="mt-2"
                        >
                            <list>
                                <field name="skill_id" />
                                <field name="skill_level_id" />
                                <field name="level_progress" widget="progressbar" />
                                <field name="skill_type_id" optional="hidden" />
                            </list>
                        </field>
                    </div>
                </page>
            </xpath>
            <xpath
                expr="//page[@name='skills_resume']//div[hasclass('row')]"
                position="replace"
            />
            <xpath expr="//page[@name='skills_resume']" position="inside">
                <separator />
                <field
                    mode="list"
                    nolabel="1"
                    name="resume_line_ids"
                    widget="resume_one2many_custom"
                    class="o_field_one2many overflow-auto"
                >
                    <list>
                        <!--<field name="sequence" widget="handle" />-->
                        <field name="line_type_id" column_invisible="True" />
                        <field name="resume_type" column_invisible="True" />
                        <field name="date_start" />
                        <field name="date_end" />
                        <field name="name" />
                        <field name="course_name" />
                        <field name="result" />
                        <field name="type_of_pros_and_cons" />
                        <field name="description" />
                    </list>
                </field>
            </xpath>
            <xpath expr="//page[@name='skills_resume']" position="attributes">
                <attribute name="string">Capacity Profile</attribute>
            </xpath>
            <xpath expr="//page[@name='hr_settings']" position="after">
                <page name="salary_history" string="Salary history">
                    <field name="salary_type_tracking" readonly="1" nolabel="1">
                        <list default_order="create_date desc">
                            <field name="employee_id" optional="show" />
                            <field name="contract_code" optional="show" />
                            <field name="policy_id" optional="hide" />
                            <field name="department_id" optional="hide" />
                            <field name="job_id" optional="hide" />
                            <field name="date_start" optional="hide" />
                            <field name="date_end" optional="hide" />
                            <field name="contract_type_id" optional="hide" />
                            <field name="total_salary" optional="hide" />
                            <field
                                name="salary_type_id"
                                string="Updated content"
                                optional="show"
                            />
                            <field
                                name="create_date"
                                string="Update date"
                                optional="show"
                                widget="date"
                            />
                            <field name="old_value" widget="monetary" optional="show" />
                            <field name="new_value" widget="monetary" optional="show" />
                            <field
                                name="contract_state"
                                widget="badge"
                                optional="show"
                                decoration-info="contract_state == 'draft'"
                                decoration-warning="contract_state == 'close'"
                                decoration-success="contract_state == 'open'"
                            />
                            <field name="currency_id" column_invisible="1" />
                        </list>
                    </field>
                </page>
            </xpath>
            <xpath
                expr="//page[@name='hr_settings']//field[@name='user_id']"
                position="attributes"
            >
                <attribute name="options">{"no_create": True}</attribute>
            </xpath>
        </field>
    </record>

    <record id="metatech_inherit_view_employee_filter" model="ir.ui.view">
        <field name="name">metatech.inherit.hr.employee.search</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_filter" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="after">
                <field name="identification_id" />
                <field name="sinid" />
                <field name="tax_code" />
            </xpath>
            <xpath expr="//filter[@name='group_category_ids']" position="after">
                <filter
                    name="group_start_work_date"
                    string="Start work date"
                    domain="[]"
                    context="{'group_by': 'start_work_date'}"
                />
            </xpath>
        </field>
    </record>

    <record id="metatech_inherit_resume_line_view_form" model="ir.ui.view">
        <field name="name">metatech.inherit.resume.line.view.form</field>
        <field name="model">hr.resume.line</field>
        <field name="inherit_id" ref="hr_skills.resume_line_view_form" />
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <field name="resume_type" invisible="1" />
            </xpath>
            <xpath expr="//sheet" position="attributes">
                <attribute name="invisible">resume_type != False</attribute>
            </xpath>
            <xpath expr="//sheet" position="after">
                <sheet invisible="resume_type == False">
                    <group>
                        <group>
                            <field
                                name="date_start"
                                string="Time"
                                invisible="resume_type == 'resume_type_pros_and_cons'"
                            />
                            <field
                                name="course_name"
                                string="Course name, training course"
                                invisible="resume_type != 'resume_type_learning_process'"
                                required="resume_type == 'resume_type_learning_process'"
                            />
                            <field
                                name="description"
                                string="Result"
                                invisible="resume_type != 'resume_type_learning_process'"
                                readonly="resume_type == 'resume_type_learning_process'"
                            />
                            <field
                                name="type_of_pros_and_cons"
                                invisible="resume_type != 'resume_type_pros_and_cons'"
                                required="resume_type == 'resume_type_pros_and_cons'"
                            />
                        </group>
                        <group invisible="resume_type != 'resume_type_working_process'">
                            <field
                                name="description"
                                string="Description"
                                required="resume_type == 'resume_type_working_process'"
                            />
                        </group>
                        <group
                            invisible="resume_type != 'resume_type_learning_process'"
                        >
                            <field
                                name="result"
                                string="Result"
                                widget="radio"
                                required="resume_type == 'resume_type_learning_process'"
                            />
                            <field
                                name="point"
                                string="Point"
                                invisible="result != 'point'"
                                required="result == 'point'"
                            />
                            <field
                                name="certificate"
                                string="Certificate"
                                invisible="result != 'certificate'"
                                required="result == 'certificate'"
                            />
                            <field
                                name="pass_failed"
                                string="Pass/Failed"
                                widget="radio"
                                invisible="result != 'pass_failed'"
                                required="result == 'pass_failed'"
                            />
                        </group>
                        <group invisible="resume_type != 'resume_type_reward'">
                            <field
                                name="description"
                                string="Reward Content"
                                required="resume_type == 'resume_type_reward'"
                            />
                        </group>
                        <group invisible="resume_type != 'resume_type_discipline'">
                            <field
                                name="description"
                                string="Type of violation"
                                required="resume_type == 'resume_type_discipline'"
                            />
                        </group>
                        <group invisible="resume_type != 'resume_type_pros_and_cons'">
                            <field
                                name="description"
                                string="Content"
                                required="resume_type == 'resume_type_pros_and_cons'"
                            />
                        </group>
                    </group>
                </sheet>
            </xpath>
        </field>
    </record>
</odoo>
